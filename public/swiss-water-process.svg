<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1100 500">
  <!-- Background -->
  <rect width="1100" height="500" fill="#ffffff"/>

  <defs>
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feGaussianBlur in="SourceAlpha" stdDeviation="3"/>
      <feOffset dx="0" dy="2" result="offsetblur"/>
      <feComponentTransfer>
        <feFuncA type="linear" slope="0.15"/>
      </feComponentTransfer>
      <feMerge>
        <feMergeNode/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>

    <linearGradient id="beanGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#C9A57C;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#A68760;stop-opacity:1" />
    </linearGradient>

    <radialGradient id="caffeineGlow" cx="50%" cy="50%" r="50%">
      <stop offset="0%" style="stop-color:#EF4444;stop-opacity:0.8" />
      <stop offset="100%" style="stop-color:#DC2626;stop-opacity:1" />
    </radialGradient>

    <marker id="arrow" markerWidth="12" markerHeight="12" refX="10" refY="4" orient="auto">
      <path d="M 0 0 L 12 4 L 0 8 z" fill="#DC2626"/>
    </marker>
  </defs>

  <!-- Title -->
  <text x="550" y="40" font-family="system-ui, -apple-system, sans-serif" font-size="24" fill="#0f172a" text-anchor="middle" font-weight="700" letter-spacing="-0.5">Swiss Water Process</text>
  <text x="550" y="68" font-family="system-ui, -apple-system, sans-serif" font-size="15" fill="#64748b" text-anchor="middle">Osmosis drives caffeine from high concentration to low concentration</text>

  <!-- Left Container: Coffee Bean -->
  <g>
    <rect x="60" y="120" width="380" height="320" rx="16" fill="#fefce8" stroke="#eab308" stroke-width="2.5" filter="url(#shadow)"/>

    <!-- Label at top -->
    <rect x="140" y="135" width="220" height="45" rx="22.5" fill="#0f172a"/>
    <text x="250" y="164" font-family="system-ui, -apple-system, sans-serif" font-size="18" fill="#ffffff" text-anchor="middle" font-weight="600">Coffee Bean</text>

    <!-- Bean Section - smaller and better positioned -->
    <g transform="translate(250, 290)">
      <!-- Main bean shape - reduced from 110/130 to 70/85 -->
      <ellipse cx="0" cy="0" rx="70" ry="85" fill="url(#beanGrad)" stroke="#78614a" stroke-width="3"/>
      <!-- Bean center line -->
      <path d="M 0 -85 Q 10 0 0 85" stroke="#5a4636" stroke-width="3.5" fill="none"/>

      <!-- Caffeine molecules - redistributed for smaller bean -->
      <circle cx="-35" cy="-50" r="5.5" fill="url(#caffeineGlow)"/>
      <circle cx="-15" cy="-40" r="5.5" fill="url(#caffeineGlow)"/>
      <circle cx="25" cy="-48" r="5.5" fill="url(#caffeineGlow)"/>

      <circle cx="-45" cy="-15" r="5.5" fill="url(#caffeineGlow)"/>
      <circle cx="-5" cy="-18" r="5.5" fill="url(#caffeineGlow)"/>
      <circle cx="35" cy="-22" r="5.5" fill="url(#caffeineGlow)"/>

      <circle cx="-30" cy="8" r="5.5" fill="url(#caffeineGlow)"/>
      <circle cx="10" cy="12" r="5.5" fill="url(#caffeineGlow)"/>
      <circle cx="38" cy="5" r="5.5" fill="url(#caffeineGlow)"/>

      <circle cx="-42" cy="35" r="5.5" fill="url(#caffeineGlow)"/>
      <circle cx="-12" cy="40" r="5.5" fill="url(#caffeineGlow)"/>
      <circle cx="28" cy="32" r="5.5" fill="url(#caffeineGlow)"/>

      <circle cx="-32" cy="62" r="5.5" fill="url(#caffeineGlow)"/>
      <circle cx="8" cy="65" r="5.5" fill="url(#caffeineGlow)"/>

      <!-- Flavor compounds - smaller, gray -->
      <circle cx="-25" cy="-30" r="2.5" fill="#64748b" opacity="0.5"/>
      <circle cx="18" cy="-25" r="2.5" fill="#64748b" opacity="0.5"/>
      <circle cx="-18" cy="20" r="2.5" fill="#64748b" opacity="0.5"/>
      <circle cx="25" cy="50" r="2.5" fill="#64748b" opacity="0.5"/>
    </g>

    <!-- Bottom label -->
    <rect x="160" y="395" width="180" height="30" rx="15" fill="#ef4444"/>
    <text x="250" y="416" font-family="system-ui, -apple-system, sans-serif" font-size="16" fill="#ffffff" text-anchor="middle" font-weight="700">HIGH Caffeine</text>
  </g>

  <!-- Migration arrows -->
  <g>
    <!-- Multiple flowing arrows -->
    <path d="M 455 200 L 635 200" stroke="#DC2626" stroke-width="3.5" fill="none" marker-end="url(#arrow)" stroke-dasharray="10,6" opacity="0.9"/>
    <path d="M 455 250 L 635 250" stroke="#DC2626" stroke-width="3.5" fill="none" marker-end="url(#arrow)" stroke-dasharray="10,6" opacity="0.9"/>
    <path d="M 455 300 L 635 300" stroke="#DC2626" stroke-width="3.5" fill="none" marker-end="url(#arrow)" stroke-dasharray="10,6" opacity="0.9"/>
    <path d="M 455 350 L 635 350" stroke="#DC2626" stroke-width="3.5" fill="none" marker-end="url(#arrow)" stroke-dasharray="10,6" opacity="0.9"/>

    <!-- Label -->
    <rect x="485" y="150" width="130" height="32" rx="16" fill="#fee2e2" stroke="#fca5a5" stroke-width="1.5"/>
    <text x="550" y="173" font-family="system-ui, -apple-system, sans-serif" font-size="14" fill="#DC2626" text-anchor="middle" font-weight="600">Caffeine flows â†’</text>
  </g>

  <!-- Right Container: GCE Water -->
  <g>
    <rect x="660" y="120" width="380" height="320" rx="16" fill="#eff6ff" stroke="#3b82f6" stroke-width="2.5" filter="url(#shadow)"/>

    <!-- Label at top -->
    <rect x="720" y="135" width="280" height="45" rx="22.5" fill="#0f172a"/>
    <text x="860" y="164" font-family="system-ui, -apple-system, sans-serif" font-size="18" fill="#ffffff" text-anchor="middle" font-weight="600">Green Coffee Extract (GCE)</text>

    <!-- Water section -->
    <g>
      <!-- Gentle wave patterns -->
      <path d="M 680 200 Q 710 195 740 200 T 800 200 T 860 200 T 920 200 T 1000 200"
            stroke="#60a5fa" stroke-width="2" fill="none" opacity="0.3"/>
      <path d="M 680 220 Q 710 215 740 220 T 800 220 T 860 220 T 920 220 T 1000 220"
            stroke="#60a5fa" stroke-width="2" fill="none" opacity="0.3"/>
      <path d="M 680 240 Q 710 235 740 240 T 800 240 T 860 240 T 920 240 T 1000 240"
            stroke="#60a5fa" stroke-width="2" fill="none" opacity="0.3"/>

      <!-- Incoming caffeine molecules - fewer -->
      <circle cx="710" cy="270" r="5.5" fill="url(#caffeineGlow)" opacity="0.6"/>
      <circle cx="780" cy="295" r="5.5" fill="url(#caffeineGlow)" opacity="0.6"/>
      <circle cx="880" cy="285" r="5.5" fill="url(#caffeineGlow)" opacity="0.6"/>
      <circle cx="820" cy="340" r="5.5" fill="url(#caffeineGlow)" opacity="0.6"/>
      <circle cx="940" cy="320" r="5.5" fill="url(#caffeineGlow)" opacity="0.6"/>

      <!-- MANY flavor compounds showing saturation -->
      <g opacity="0.6">
        <circle cx="700" cy="260" r="2.5" fill="#475569"/>
        <circle cx="750" cy="265" r="2.5" fill="#475569"/>
        <circle cx="810" cy="270" r="2.5" fill="#475569"/>
        <circle cx="870" cy="260" r="2.5" fill="#475569"/>
        <circle cx="930" cy="275" r="2.5" fill="#475569"/>
        <circle cx="990" cy="265" r="2.5" fill="#475569"/>

        <circle cx="720" cy="305" r="2.5" fill="#475569"/>
        <circle cx="770" cy="315" r="2.5" fill="#475569"/>
        <circle cx="840" cy="310" r="2.5" fill="#475569"/>
        <circle cx="900" cy="320" r="2.5" fill="#475569"/>
        <circle cx="960" cy="305" r="2.5" fill="#475569"/>

        <circle cx="690" cy="355" r="2.5" fill="#475569"/>
        <circle cx="760" cy="365" r="2.5" fill="#475569"/>
        <circle cx="830" cy="360" r="2.5" fill="#475569"/>
        <circle cx="890" cy="370" r="2.5" fill="#475569"/>
        <circle cx="950" cy="355" r="2.5" fill="#475569"/>
        <circle cx="1010" cy="365" r="2.5" fill="#475569"/>
      </g>
    </g>

    <!-- Bottom label -->
    <rect x="760" y="395" width="200" height="30" rx="15" fill="#0ea5e9"/>
    <text x="860" y="416" font-family="system-ui, -apple-system, sans-serif" font-size="16" fill="#ffffff" text-anchor="middle" font-weight="700">LOW Caffeine</text>
  </g>

  <!-- Legend -->
  <g transform="translate(400, 465)">
    <rect x="-10" y="-20" width="320" height="40" rx="10" fill="#f8fafc" stroke="#e2e8f0" stroke-width="2"/>

    <circle cx="15" cy="0" r="5.5" fill="url(#caffeineGlow)"/>
    <text x="30" y="5" font-family="system-ui, -apple-system, sans-serif" font-size="13" fill="#0f172a" font-weight="500">Caffeine molecules</text>

    <circle cx="175" cy="0" r="2.5" fill="#475569" opacity="0.6"/>
    <text x="187" y="5" font-family="system-ui, -apple-system, sans-serif" font-size="13" fill="#0f172a" font-weight="500">Flavor compounds</text>
  </g>
</svg>
